;; gorilla-repl.fileformat = 1

;; **
;;; # Multiobjective search with SPEA2
;;; 
;; **

;; @@
(ns algebolic.demo.spea2
  (:require [gorilla-plot.core :as plot]
            [algebolic.expression.core :as expression]
            [algebolic.expression.tree :as tree]
            [algebolic.expression.genetics :as genetics]
            [algebolic.expression.score :as score]
            [algebolic.expression.render :as render]
            [algebolic.expression.interpreter :as interpreter]
            [algebolic.evolution.core :as evolution]
            [algebolic.evolution.metrics :as metrics]
            [algebolic.evolution.reproduction :as reproduction]
            [algebolic.evolution.scoring :as scoring]
            [algebolic.evolution.selection :as selection]
            [algebolic.evolution.transform :as transform]
            [algebolic.evolution.pareto :as pareto]
            [algebolic.algorithms.spea2 :as spea2]
            [criterium.core :as criterium]))
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-nil'>nil</span>","value":"nil"}
;; <=

;; **
;;; ## Polynomial
;; **

;; @@
(def xs (range 0.0 30.0 1.0))
(def coords (mapv (fn [x] [x]) xs))
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-var'>#&#x27;algebolic.demo.spea2/coords</span>","value":"#'algebolic.demo.spea2/coords"}
;; <=

;; @@
(def data (map (fn [x] (- (+ (* 2 x) (* 3 x x)) (* 0.09 x x x))) xs))
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-var'>#&#x27;algebolic.demo.spea2/data</span>","value":"#'algebolic.demo.spea2/data"}
;; <=

;; @@
(def data (map (fn [x] (Math/sin (/ x 7))) xs))
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-var'>#&#x27;algebolic.demo.spea2/data</span>","value":"#'algebolic.demo.spea2/data"}
;; <=

;; @@
(def data (map (fn [x] (+ (Math/sin (/ x 5)) (* 2 (Math/sin (/ x 3))) (* 3 (Math/sin (/ x 2))))) xs))
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-var'>#&#x27;algebolic.demo.spea2/data</span>","value":"#'algebolic.demo.spea2/data"}
;; <=

;; @@
(def run-config
  (let [vars '[x]
        functions (expression/get-functions #{:plus :minus :times})
        terminals (expression/terminal-generators vars)
        size-limit 80
        min-size 15
        ea-config (spea2/spea2-config
                    {:goals [:error :complexity]
                     :archive-size 100
                     :binary-ops [{:op (partial genetics/ninety-ten-sl-crossover size-limit) :repeat 45}]
                     :unary-ops [{:op (partial genetics/random-tree-mutation functions terminals 3) :repeat 10}]})
        score-functions {:complexity tree/count-nodes
                         :error (fn [ex] (score/abs-error vars coords data ex))}]
    {:initial-zeitgeist      (evolution/make-zeitgeist
                               (genetics/full-population functions terminals 100 7))
     :ea-config              ea-config
     :transformations        [(partial transform/apply-to-fraction-of-genotypes
                                       (partial transform/hill-descent
                                                genetics/twiddle-constants
                                                (:error score-functions))
                                       0.5)
                              (partial transform/apply-to-all-genotypes
                                       (partial genetics/trim-hard size-limit))
                              (partial transform/apply-to-all-genotypes
                                       (partial genetics/boost-hard min-size
                                                #(genetics/random-full-tree functions terminals 3)))]
     :score-functions        score-functions
     :stopping-condition     #(>= (:age %) 500)
     :reporting-function     (fn [z] (print ".") (flush))}))
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-var'>#&#x27;algebolic.demo.spea2/run-config</span>","value":"#'algebolic.demo.spea2/run-config"}
;; <=

;; @@
(def metrics (atom {}))
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-var'>#&#x27;algebolic.demo.spea2/metrics</span>","value":"#'algebolic.demo.spea2/metrics"}
;; <=

;; @@
(time (def result (evolution/run-evolution run-config metrics)))
;; @@
;; ->
;;; .............................................................................................................
;; <-

;; @@
(plot/list-plot (:min (:error @metrics)) :joined true)
;; @@
;; =>
;;; {"type":"vega","content":{"axes":[{"scale":"x","type":"x"},{"scale":"y","type":"y"}],"scales":[{"name":"x","type":"linear","range":"width","zero":false,"domain":{"data":"a0cd9a6b-e83c-40f6-969a-4fc4d73fe1de","field":"data.x"}},{"name":"y","type":"linear","range":"height","nice":true,"zero":false,"domain":{"data":"a0cd9a6b-e83c-40f6-969a-4fc4d73fe1de","field":"data.y"}}],"marks":[{"type":"line","from":{"data":"a0cd9a6b-e83c-40f6-969a-4fc4d73fe1de"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"stroke":{"value":"#FF29D2"},"strokeWidth":{"value":2},"strokeOpacity":{"value":1}}}}],"data":[{"name":"a0cd9a6b-e83c-40f6-969a-4fc4d73fe1de","values":[{"x":0,"y":17.618360415801646},{"x":1,"y":17.618360415801646},{"x":2,"y":17.3898858893494},{"x":3,"y":16.637244228049457},{"x":4,"y":16.637244228049457},{"x":5,"y":14.266445939315963},{"x":6,"y":14.266445939315963},{"x":7,"y":14.266445939315963},{"x":8,"y":14.266445939315963},{"x":9,"y":14.266445939315958},{"x":10,"y":14.266445939315956},{"x":11,"y":14.26644593931593},{"x":12,"y":14.26644593931592},{"x":13,"y":14.26644593931592},{"x":14,"y":14.26644593931592},{"x":15,"y":14.26644593931592},{"x":16,"y":14.26644593931592},{"x":17,"y":14.26644593931592},{"x":18,"y":14.26644593931592},{"x":19,"y":14.26644593931592},{"x":20,"y":14.26644593931592},{"x":21,"y":14.26644593931592},{"x":22,"y":13.626830936591379},{"x":23,"y":13.626830936591379},{"x":24,"y":13.529360293875845},{"x":25,"y":13.529360293875845},{"x":26,"y":13.245400344360512},{"x":27,"y":13.245400344360512},{"x":28,"y":12.500205282808832},{"x":29,"y":12.500205282808832},{"x":30,"y":12.500205282808832},{"x":31,"y":11.74390286546841},{"x":32,"y":11.74390286546841},{"x":33,"y":11.533543245034142},{"x":34,"y":11.458393606245886},{"x":35,"y":11.458393606245886},{"x":36,"y":11.458393606245886},{"x":37,"y":10.964728735347029},{"x":38,"y":7.941047845208622},{"x":39,"y":7.923513115925492},{"x":40,"y":7.923513115925492},{"x":41,"y":7.746499534622265},{"x":42,"y":7.746499534622265},{"x":43,"y":7.724298026347032},{"x":44,"y":7.724298026347032},{"x":45,"y":7.724298026347032},{"x":46,"y":7.724298026347032},{"x":47,"y":7.724298026347032},{"x":48,"y":7.724298026347032},{"x":49,"y":7.724298026347032}]}],"width":400,"height":247.2187957763672,"padding":{"bottom":20,"top":10,"right":10,"left":50}},"value":"#gorilla_repl.vega.VegaView{:content {:axes [{:scale \"x\", :type \"x\"} {:scale \"y\", :type \"y\"}], :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"a0cd9a6b-e83c-40f6-969a-4fc4d73fe1de\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"a0cd9a6b-e83c-40f6-969a-4fc4d73fe1de\", :field \"data.y\"}}], :marks [{:type \"line\", :from {:data \"a0cd9a6b-e83c-40f6-969a-4fc4d73fe1de\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :stroke {:value \"#FF29D2\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}}], :data [{:name \"a0cd9a6b-e83c-40f6-969a-4fc4d73fe1de\", :values ({:x 0, :y 17.618360415801646} {:x 1, :y 17.618360415801646} {:x 2, :y 17.3898858893494} {:x 3, :y 16.637244228049457} {:x 4, :y 16.637244228049457} {:x 5, :y 14.266445939315963} {:x 6, :y 14.266445939315963} {:x 7, :y 14.266445939315963} {:x 8, :y 14.266445939315963} {:x 9, :y 14.266445939315958} {:x 10, :y 14.266445939315956} {:x 11, :y 14.26644593931593} {:x 12, :y 14.26644593931592} {:x 13, :y 14.26644593931592} {:x 14, :y 14.26644593931592} {:x 15, :y 14.26644593931592} {:x 16, :y 14.26644593931592} {:x 17, :y 14.26644593931592} {:x 18, :y 14.26644593931592} {:x 19, :y 14.26644593931592} {:x 20, :y 14.26644593931592} {:x 21, :y 14.26644593931592} {:x 22, :y 13.626830936591379} {:x 23, :y 13.626830936591379} {:x 24, :y 13.529360293875845} {:x 25, :y 13.529360293875845} {:x 26, :y 13.245400344360512} {:x 27, :y 13.245400344360512} {:x 28, :y 12.500205282808832} {:x 29, :y 12.500205282808832} {:x 30, :y 12.500205282808832} {:x 31, :y 11.74390286546841} {:x 32, :y 11.74390286546841} {:x 33, :y 11.533543245034142} {:x 34, :y 11.458393606245886} {:x 35, :y 11.458393606245886} {:x 36, :y 11.458393606245886} {:x 37, :y 10.964728735347029} {:x 38, :y 7.941047845208622} {:x 39, :y 7.923513115925492} {:x 40, :y 7.923513115925492} {:x 41, :y 7.746499534622265} {:x 42, :y 7.746499534622265} {:x 43, :y 7.724298026347032} {:x 44, :y 7.724298026347032} {:x 45, :y 7.724298026347032} {:x 46, :y 7.724298026347032} {:x 47, :y 7.724298026347032} {:x 48, :y 7.724298026347032} {:x 49, :y 7.724298026347032})}], :width 400, :height 247.2188, :padding {:bottom 20, :top 10, :right 10, :left 50}}}"}
;; <=

;; @@
(defn pareto-plot-population
  [[k1 k2] result]
  (let [pareto-front (pareto/non-dominated-individuals [k1 k2] (:elite result))
        coord-extract (fn [i] [(k1 i) (k2 i)])]
    (plot/compose
      (plot/list-plot (map coord-extract (:elite result)) :colour "red")
      (plot/list-plot (map coord-extract (:rabble result)) :colour "blue")
          (plot/list-plot (map coord-extract pareto-front) :colour "#ff29d2")
  )))
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-var'>#&#x27;algebolic.demo.spea2/pareto-plot-population</span>","value":"#'algebolic.demo.spea2/pareto-plot-population"}
;; <=

;; @@
(pareto-plot-population [:complexity :error] result)
;; @@
;; =>
;;; {"type":"vega","content":{"width":400,"height":247.2187957763672,"padding":{"bottom":20,"top":10,"right":10,"left":50},"scales":[{"name":"x","type":"linear","range":"width","zero":false,"domain":{"data":"9083bc8b-805f-4dad-8f40-3554d45b5f1d","field":"data.x"}},{"name":"y","type":"linear","range":"height","nice":true,"zero":false,"domain":{"data":"9083bc8b-805f-4dad-8f40-3554d45b5f1d","field":"data.y"}}],"axes":[{"scale":"x","type":"x"},{"scale":"y","type":"y"}],"data":[{"name":"9083bc8b-805f-4dad-8f40-3554d45b5f1d","values":[{"x":1,"y":424.66474235280845},{"x":1,"y":424.66474235280845},{"x":7,"y":17.618360415801646},{"x":21,"y":13.626434471754083},{"x":59,"y":8.76587696562162},{"x":43,"y":11.143707986117832},{"x":47,"y":10.943298229123185},{"x":47,"y":10.943298229123185},{"x":39,"y":12.612917004892497},{"x":39,"y":12.612917004892497},{"x":31,"y":13.324435846851362},{"x":65,"y":7.746499534622265},{"x":65,"y":7.746499534622265},{"x":49,"y":9.842707884219784},{"x":17,"y":13.627349564418754},{"x":15,"y":14.266445939315942},{"x":33,"y":12.92817627000156},{"x":71,"y":7.724298026347032},{"x":61,"y":9.430413270223525},{"x":43,"y":12.472554769204258},{"x":7,"y":19.02120317867735},{"x":37,"y":12.998781366518687},{"x":35,"y":13.092651177597654},{"x":35,"y":13.092651177597654},{"x":33,"y":13.113668755976896},{"x":61,"y":9.46444542215436},{"x":61,"y":9.46444542215436},{"x":53,"y":9.887059093022264},{"x":17,"y":13.633611957561442},{"x":15,"y":14.266445939315954},{"x":15,"y":14.266445939315954},{"x":3,"y":859.6647423528084},{"x":3,"y":859.6647423528084},{"x":65,"y":8.230134704041781},{"x":65,"y":8.230134704041781},{"x":65,"y":8.230134704041781},{"x":69,"y":7.923513115925492},{"x":69,"y":7.923513115925492},{"x":69,"y":7.923513115925492},{"x":69,"y":7.923513115925492},{"x":47,"y":10.958210649341028},{"x":71,"y":7.77366755500697},{"x":71,"y":7.77366755500697},{"x":37,"y":13.047518284735373},{"x":55,"y":10.62258561619758},{"x":33,"y":13.237594054632076},{"x":7,"y":19.097843407271423},{"x":17,"y":13.633900441910486},{"x":17,"y":13.633900441910486},{"x":17,"y":13.633900441910486},{"x":73,"y":7.786302928197831},{"x":71,"y":7.8205996787792476},{"x":71,"y":7.8205996787792476},{"x":71,"y":7.8205996787792476},{"x":57,"y":10.625607510186189},{"x":55,"y":10.86813894252251},{"x":55,"y":10.86813894252251},{"x":55,"y":10.86813894252251},{"x":55,"y":10.86813894252251},{"x":69,"y":7.941047845208622},{"x":69,"y":7.941047845208622},{"x":69,"y":7.941047845208622},{"x":69,"y":7.941047845208622},{"x":71,"y":7.824884339038896},{"x":71,"y":7.824884339038896},{"x":65,"y":8.336893199688744},{"x":7,"y":24.787852416074358},{"x":43,"y":12.926246345641056},{"x":43,"y":12.926246345641056},{"x":57,"y":10.802371265318657},{"x":65,"y":8.376706963411786},{"x":41,"y":13.020675779365826},{"x":69,"y":7.969388563094004},{"x":69,"y":7.969388563094004},{"x":47,"y":12.24287461379981},{"x":65,"y":8.558699060450106},{"x":33,"y":13.343612860278377},{"x":35,"y":13.140458396462742},{"x":15,"y":14.266445939315958},{"x":15,"y":14.266445939315958},{"x":7,"y":25.943535447043267},{"x":33,"y":13.35226700242069},{"x":35,"y":13.140664858108655},{"x":65,"y":8.8391051340307},{"x":51,"y":11.424758796315153},{"x":49,"y":11.43355310861953},{"x":7,"y":57.626787198728614},{"x":65,"y":8.980797348824797},{"x":63,"y":10.63123189810831},{"x":17,"y":13.69568293357731},{"x":33,"y":13.388995926895525},{"x":35,"y":13.183764635875821},{"x":49,"y":11.922846259964375},{"x":53,"y":11.336447702658045},{"x":63,"y":10.67533826815689},{"x":63,"y":10.67533826815689},{"x":51,"y":11.455313427222395},{"x":57,"y":10.919111693170647},{"x":57,"y":10.919111693170647},{"x":35,"y":13.185077528061502}]},{"name":"575c5c7a-dfaa-455e-96b4-cce58252275b","values":[{"x":65,"y":7.746499534622265},{"x":1,"y":15.188224622402865},{"x":23,"y":4598785.131145475},{"x":71,"y":81.46011384250463},{"x":19,"y":13.756621583248702},{"x":1,"y":424.66474235280845},{"x":3,"y":859.6647423528084},{"x":55,"y":12.306094473808768},{"x":29,"y":453.66675632809694},{"x":55,"y":10.86813894252251},{"x":49,"y":9.842707884219784},{"x":23,"y":15.272095260340564},{"x":15,"y":1290.3643731030775},{"x":19,"y":85.03720929817823},{"x":55,"y":797.031828787132},{"x":17,"y":446.03607431515616},{"x":39,"y":960.2832925600778},{"x":33,"y":773.9073912491654},{"x":15,"y":202054.7096025307},{"x":47,"y":11.149024242023891},{"x":15,"y":1269.1362010825349},{"x":15,"y":209.7310492468609},{"x":27,"y":831.0825074029417},{"x":39,"y":1573.4963839014804},{"x":29,"y":13.020119086455429},{"x":19,"y":14.266445939315965},{"x":53,"y":927.3012094746641},{"x":43,"y":12.443249673832051},{"x":15,"y":19.92872113407732},{"x":67,"y":16.30354149141959},{"x":67,"y":776.6983934478568},{"x":55,"y":18.873474843652776},{"x":65,"y":8.11105077807848},{"x":17,"y":426.6453488074677},{"x":41,"y":57.35305220611734},{"x":39,"y":13.004933673656618},{"x":65,"y":19.043024796117994},{"x":15,"y":268502.00687249453},{"x":35,"y":972.7477124044174},{"x":33,"y":840.1563222383136},{"x":47,"y":804.8377821511681},{"x":55,"y":913.1889377519722},{"x":27,"y":17.32844578076749},{"x":69,"y":7.923513115925492},{"x":73,"y":11.111259671420717},{"x":51,"y":911.3662172585495},{"x":73,"y":932.5007711889725},{"x":15,"y":10942.146758988947},{"x":15,"y":17.741723757318386},{"x":17,"y":16.17927366490338},{"x":15,"y":18590.10592643625},{"x":61,"y":9.241993391384913},{"x":61,"y":15.706553398628202},{"x":69,"y":16.032996754022836},{"x":69,"y":7.890389609805283},{"x":15,"y":440.30406913761897},{"x":21,"y":112.18450422951521},{"x":67,"y":760.1858286152449},{"x":17,"y":34.66287584712486},{"x":15,"y":1893.0406620964372},{"x":65,"y":8.531698582866207},{"x":47,"y":11.024697936296633},{"x":45,"y":828.1096212952901},{"x":53,"y":11.970099148692944},{"x":69,"y":15.97472180156149},{"x":71,"y":17.46869540548733},{"x":15,"y":34688.51865363115},{"x":59,"y":11.261705356906589},{"x":57,"y":10.604369435866209},{"x":17,"y":111.98541288451273},{"x":43,"y":12.472554769204258},{"x":17,"y":872.5421775020931},{"x":15,"y":502.89373333651076},{"x":61,"y":13.563745099709942},{"x":47,"y":10.143716395308116},{"x":27,"y":14.964834180101379},{"x":61,"y":1183.8229986587337},{"x":59,"y":8.718656106452105},{"x":39,"y":1933.3591474528253},{"x":55,"y":1704.772201753309},{"x":15,"y":17.618360415801646},{"x":51,"y":1634.727324048524},{"x":53,"y":447.75947090706694},{"x":15,"y":3764250.1508637625},{"x":31,"y":951.6356733725935},{"x":75,"y":832.5480708145614},{"x":49,"y":1610.686232280339},{"x":31,"y":1692.9385099196743},{"x":27,"y":26.395510080836075},{"x":43,"y":13.055814078173679},{"x":29,"y":81.31161899626467},{"x":69,"y":7.923513115925492},{"x":79,"y":19.393266661784335},{"x":15,"y":20.80984872410327},{"x":61,"y":1753.5608451274006},{"x":17,"y":16892.60012575553},{"x":65,"y":7.746499534622265},{"x":27,"y":17.361110414768557},{"x":45,"y":873.7458436511148},{"x":59,"y":1789.6322580392243}]},{"name":"6ceef34b-301e-4987-94d4-2860332f3d7b","values":[{"x":1,"y":424.66474235280845},{"x":1,"y":424.66474235280845},{"x":7,"y":17.618360415801646},{"x":21,"y":13.626434471754083},{"x":59,"y":8.76587696562162},{"x":43,"y":11.143707986117832},{"x":47,"y":10.943298229123185},{"x":47,"y":10.943298229123185},{"x":39,"y":12.612917004892497},{"x":39,"y":12.612917004892497},{"x":31,"y":13.324435846851362},{"x":65,"y":7.746499534622265},{"x":65,"y":7.746499534622265},{"x":49,"y":9.842707884219784},{"x":17,"y":13.627349564418754},{"x":15,"y":14.266445939315942},{"x":33,"y":12.92817627000156},{"x":71,"y":7.724298026347032}]}],"marks":[{"type":"symbol","from":{"data":"9083bc8b-805f-4dad-8f40-3554d45b5f1d"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"fill":{"value":"red"},"fillOpacity":{"value":1}},"update":{"shape":"circle","size":{"value":70},"stroke":{"value":"transparent"}},"hover":{"size":{"value":210},"stroke":{"value":"white"}}}},{"type":"symbol","from":{"data":"575c5c7a-dfaa-455e-96b4-cce58252275b"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"fill":{"value":"blue"},"fillOpacity":{"value":1}},"update":{"shape":"circle","size":{"value":70},"stroke":{"value":"transparent"}},"hover":{"size":{"value":210},"stroke":{"value":"white"}}}},{"type":"symbol","from":{"data":"6ceef34b-301e-4987-94d4-2860332f3d7b"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"fill":{"value":"#ff29d2"},"fillOpacity":{"value":1}},"update":{"shape":"circle","size":{"value":70},"stroke":{"value":"transparent"}},"hover":{"size":{"value":210},"stroke":{"value":"white"}}}}]},"value":"#gorilla_repl.vega.VegaView{:content {:width 400, :height 247.2188, :padding {:bottom 20, :top 10, :right 10, :left 50}, :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"9083bc8b-805f-4dad-8f40-3554d45b5f1d\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"9083bc8b-805f-4dad-8f40-3554d45b5f1d\", :field \"data.y\"}}], :axes [{:scale \"x\", :type \"x\"} {:scale \"y\", :type \"y\"}], :data ({:name \"9083bc8b-805f-4dad-8f40-3554d45b5f1d\", :values ({:x 1, :y 424.66474235280845} {:x 1, :y 424.66474235280845} {:x 7, :y 17.618360415801646} {:x 21, :y 13.626434471754083} {:x 59, :y 8.76587696562162} {:x 43, :y 11.143707986117832} {:x 47, :y 10.943298229123185} {:x 47, :y 10.943298229123185} {:x 39, :y 12.612917004892497} {:x 39, :y 12.612917004892497} {:x 31, :y 13.324435846851362} {:x 65, :y 7.746499534622265} {:x 65, :y 7.746499534622265} {:x 49, :y 9.842707884219784} {:x 17, :y 13.627349564418754} {:x 15, :y 14.266445939315942} {:x 33, :y 12.92817627000156} {:x 71, :y 7.724298026347032} {:x 61, :y 9.430413270223525} {:x 43, :y 12.472554769204258} {:x 7, :y 19.02120317867735} {:x 37, :y 12.998781366518687} {:x 35, :y 13.092651177597654} {:x 35, :y 13.092651177597654} {:x 33, :y 13.113668755976896} {:x 61, :y 9.46444542215436} {:x 61, :y 9.46444542215436} {:x 53, :y 9.887059093022264} {:x 17, :y 13.633611957561442} {:x 15, :y 14.266445939315954} {:x 15, :y 14.266445939315954} {:x 3, :y 859.6647423528084} {:x 3, :y 859.6647423528084} {:x 65, :y 8.230134704041781} {:x 65, :y 8.230134704041781} {:x 65, :y 8.230134704041781} {:x 69, :y 7.923513115925492} {:x 69, :y 7.923513115925492} {:x 69, :y 7.923513115925492} {:x 69, :y 7.923513115925492} {:x 47, :y 10.958210649341028} {:x 71, :y 7.77366755500697} {:x 71, :y 7.77366755500697} {:x 37, :y 13.047518284735373} {:x 55, :y 10.62258561619758} {:x 33, :y 13.237594054632076} {:x 7, :y 19.097843407271423} {:x 17, :y 13.633900441910486} {:x 17, :y 13.633900441910486} {:x 17, :y 13.633900441910486} {:x 73, :y 7.786302928197831} {:x 71, :y 7.8205996787792476} {:x 71, :y 7.8205996787792476} {:x 71, :y 7.8205996787792476} {:x 57, :y 10.625607510186189} {:x 55, :y 10.86813894252251} {:x 55, :y 10.86813894252251} {:x 55, :y 10.86813894252251} {:x 55, :y 10.86813894252251} {:x 69, :y 7.941047845208622} {:x 69, :y 7.941047845208622} {:x 69, :y 7.941047845208622} {:x 69, :y 7.941047845208622} {:x 71, :y 7.824884339038896} {:x 71, :y 7.824884339038896} {:x 65, :y 8.336893199688744} {:x 7, :y 24.787852416074358} {:x 43, :y 12.926246345641056} {:x 43, :y 12.926246345641056} {:x 57, :y 10.802371265318657} {:x 65, :y 8.376706963411786} {:x 41, :y 13.020675779365826} {:x 69, :y 7.969388563094004} {:x 69, :y 7.969388563094004} {:x 47, :y 12.24287461379981} {:x 65, :y 8.558699060450106} {:x 33, :y 13.343612860278377} {:x 35, :y 13.140458396462742} {:x 15, :y 14.266445939315958} {:x 15, :y 14.266445939315958} {:x 7, :y 25.943535447043267} {:x 33, :y 13.35226700242069} {:x 35, :y 13.140664858108655} {:x 65, :y 8.8391051340307} {:x 51, :y 11.424758796315153} {:x 49, :y 11.43355310861953} {:x 7, :y 57.626787198728614} {:x 65, :y 8.980797348824797} {:x 63, :y 10.63123189810831} {:x 17, :y 13.69568293357731} {:x 33, :y 13.388995926895525} {:x 35, :y 13.183764635875821} {:x 49, :y 11.922846259964375} {:x 53, :y 11.336447702658045} {:x 63, :y 10.67533826815689} {:x 63, :y 10.67533826815689} {:x 51, :y 11.455313427222395} {:x 57, :y 10.919111693170647} {:x 57, :y 10.919111693170647} {:x 35, :y 13.185077528061502})} {:name \"575c5c7a-dfaa-455e-96b4-cce58252275b\", :values ({:x 65, :y 7.746499534622265} {:x 1, :y 15.188224622402865} {:x 23, :y 4598785.131145475} {:x 71, :y 81.46011384250463} {:x 19, :y 13.756621583248702} {:x 1, :y 424.66474235280845} {:x 3, :y 859.6647423528084} {:x 55, :y 12.306094473808768} {:x 29, :y 453.66675632809694} {:x 55, :y 10.86813894252251} {:x 49, :y 9.842707884219784} {:x 23, :y 15.272095260340564} {:x 15, :y 1290.3643731030775} {:x 19, :y 85.03720929817823} {:x 55, :y 797.031828787132} {:x 17, :y 446.03607431515616} {:x 39, :y 960.2832925600778} {:x 33, :y 773.9073912491654} {:x 15, :y 202054.7096025307} {:x 47, :y 11.149024242023891} {:x 15, :y 1269.1362010825349} {:x 15, :y 209.7310492468609} {:x 27, :y 831.0825074029417} {:x 39, :y 1573.4963839014804} {:x 29, :y 13.020119086455429} {:x 19, :y 14.266445939315965} {:x 53, :y 927.3012094746641} {:x 43, :y 12.443249673832051} {:x 15, :y 19.92872113407732} {:x 67, :y 16.30354149141959} {:x 67, :y 776.6983934478568} {:x 55, :y 18.873474843652776} {:x 65, :y 8.11105077807848} {:x 17, :y 426.6453488074677} {:x 41, :y 57.35305220611734} {:x 39, :y 13.004933673656618} {:x 65, :y 19.043024796117994} {:x 15, :y 268502.00687249453} {:x 35, :y 972.7477124044174} {:x 33, :y 840.1563222383136} {:x 47, :y 804.8377821511681} {:x 55, :y 913.1889377519722} {:x 27, :y 17.32844578076749} {:x 69, :y 7.923513115925492} {:x 73, :y 11.111259671420717} {:x 51, :y 911.3662172585495} {:x 73, :y 932.5007711889725} {:x 15, :y 10942.146758988947} {:x 15, :y 17.741723757318386} {:x 17, :y 16.17927366490338} {:x 15, :y 18590.10592643625} {:x 61, :y 9.241993391384913} {:x 61, :y 15.706553398628202} {:x 69, :y 16.032996754022836} {:x 69, :y 7.890389609805283} {:x 15, :y 440.30406913761897} {:x 21, :y 112.18450422951521} {:x 67, :y 760.1858286152449} {:x 17, :y 34.66287584712486} {:x 15, :y 1893.0406620964372} {:x 65, :y 8.531698582866207} {:x 47, :y 11.024697936296633} {:x 45, :y 828.1096212952901} {:x 53, :y 11.970099148692944} {:x 69, :y 15.97472180156149} {:x 71, :y 17.46869540548733} {:x 15, :y 34688.51865363115} {:x 59, :y 11.261705356906589} {:x 57, :y 10.604369435866209} {:x 17, :y 111.98541288451273} {:x 43, :y 12.472554769204258} {:x 17, :y 872.5421775020931} {:x 15, :y 502.89373333651076} {:x 61, :y 13.563745099709942} {:x 47, :y 10.143716395308116} {:x 27, :y 14.964834180101379} {:x 61, :y 1183.8229986587337} {:x 59, :y 8.718656106452105} {:x 39, :y 1933.3591474528253} {:x 55, :y 1704.772201753309} {:x 15, :y 17.618360415801646} {:x 51, :y 1634.727324048524} {:x 53, :y 447.75947090706694} {:x 15, :y 3764250.1508637625} {:x 31, :y 951.6356733725935} {:x 75, :y 832.5480708145614} {:x 49, :y 1610.686232280339} {:x 31, :y 1692.9385099196743} {:x 27, :y 26.395510080836075} {:x 43, :y 13.055814078173679} {:x 29, :y 81.31161899626467} {:x 69, :y 7.923513115925492} {:x 79, :y 19.393266661784335} {:x 15, :y 20.80984872410327} {:x 61, :y 1753.5608451274006} {:x 17, :y 16892.60012575553} {:x 65, :y 7.746499534622265} {:x 27, :y 17.361110414768557} {:x 45, :y 873.7458436511148} {:x 59, :y 1789.6322580392243})} {:name \"6ceef34b-301e-4987-94d4-2860332f3d7b\", :values ({:x 1, :y 424.66474235280845} {:x 1, :y 424.66474235280845} {:x 7, :y 17.618360415801646} {:x 21, :y 13.626434471754083} {:x 59, :y 8.76587696562162} {:x 43, :y 11.143707986117832} {:x 47, :y 10.943298229123185} {:x 47, :y 10.943298229123185} {:x 39, :y 12.612917004892497} {:x 39, :y 12.612917004892497} {:x 31, :y 13.324435846851362} {:x 65, :y 7.746499534622265} {:x 65, :y 7.746499534622265} {:x 49, :y 9.842707884219784} {:x 17, :y 13.627349564418754} {:x 15, :y 14.266445939315942} {:x 33, :y 12.92817627000156} {:x 71, :y 7.724298026347032})}), :marks ({:type \"symbol\", :from {:data \"9083bc8b-805f-4dad-8f40-3554d45b5f1d\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"red\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}} {:type \"symbol\", :from {:data \"575c5c7a-dfaa-455e-96b4-cce58252275b\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"blue\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}} {:type \"symbol\", :from {:data \"6ceef34b-301e-4987-94d4-2860332f3d7b\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"#ff29d2\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}})}}"}
;; <=

;; @@
;;(map :genotype (sort-by :complexity (set (pareto/non-dominated-individuals [:complexity :error] (:elite result)))))
;; @@

;; @@
(plot/compose
  (plot/list-plot data :plot-range [:all :all])
  (plot/list-plot (interpreter/evaluate (:genotype (nth (sort-by :complexity < (:elite result)) 99))
                                        '[x]
                                        coords) :joined true))
;; @@
;; =>
;;; {"type":"vega","content":{"width":400,"height":247.2187957763672,"padding":{"bottom":20,"top":10,"right":10,"left":50},"scales":[{"name":"x","type":"linear","range":"width","zero":false,"domain":{"data":"05b36250-011f-4de9-8e79-1eea20d0848a","field":"data.x"}},{"name":"y","type":"linear","range":"height","nice":true,"zero":false,"domain":{"data":"05b36250-011f-4de9-8e79-1eea20d0848a","field":"data.y"}}],"axes":[{"scale":"x","type":"x"},{"scale":"y","type":"y"}],"data":[{"name":"05b36250-011f-4de9-8e79-1eea20d0848a","values":[{"x":0,"y":0.0},{"x":1,"y":0.14237172979226365},{"x":2,"y":0.28184285212220994},{"x":3,"y":0.415571854993052},{"x":4,"y":0.5408342133588315},{"x":5,"y":0.6550778971785186},{"x":6,"y":0.7559753651467324},{"x":7,"y":0.8414709848078965},{"x":8,"y":0.9098229129411239},{"x":9,"y":0.9596385829666849},{"x":10,"y":0.9899030763721239},{"x":11,"y":0.9999998001333682},{"x":12,"y":0.9897230488598214},{"x":13,"y":0.9592821957288404},{"x":14,"y":0.9092974268256817},{"x":15,"y":0.8407871057952504},{"x":16,"y":0.7551470262316581},{"x":17,"y":0.6541219745065956},{"x":18,"y":0.5397701824006438},{"x":19,"y":0.4144213937610953},{"x":20,"y":0.28062939951435684},{"x":21,"y":0.1411200080598672},{"x":22,"y":-0.00126448893037729},{"x":23,"y":-0.14362322388181803},{"x":24,"y":-0.2830558540822556},{"x":25,"y":-0.41672165175349984},{"x":26,"y":-0.5418973795594052},{"x":27,"y":-0.6560327724248436},{"x":28,"y":-0.7568024953079282},{"x":29,"y":-0.8421535183649058}]},{"name":"cc15d2a2-2a52-402f-b747-4cf17706a4bb","values":[{"x":0,"y":0.9196916552001735},{"x":1,"y":0.918861688538692},{"x":2,"y":0.9138559277844472},{"x":3,"y":0.9046743729374369},{"x":4,"y":0.8913170239976644},{"x":5,"y":0.8737838809651268},{"x":6,"y":0.8520749438398254},{"x":7,"y":0.8261902126217602},{"x":8,"y":0.7961296873109314},{"x":9,"y":0.7618933679073383},{"x":10,"y":0.7234812544109812},{"x":11,"y":0.6808933468218603},{"x":12,"y":0.6341296451399754},{"x":13,"y":0.5831901493653266},{"x":14,"y":0.5280748594979139},{"x":15,"y":0.46878377553773726},{"x":16,"y":0.4053168974847932},{"x":17,"y":0.3376742253390887},{"x":18,"y":0.26585575910062026},{"x":19,"y":0.1898614987693878},{"x":20,"y":0.10969144434539141},{"x":21,"y":0.025345595828631218},{"x":22,"y":-0.063176046780893},{"x":23,"y":-0.15587348348318103},{"x":24,"y":-0.252746714278233},{"x":25,"y":-0.35379573916604895},{"x":26,"y":-0.45902055814662895},{"x":27,"y":-0.5684211712199727},{"x":28,"y":-0.6819975783860808},{"x":29,"y":-0.7997497796449522}]}],"marks":[{"type":"symbol","from":{"data":"05b36250-011f-4de9-8e79-1eea20d0848a"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"fill":{"value":"steelblue"},"fillOpacity":{"value":1}},"update":{"shape":"circle","size":{"value":70},"stroke":{"value":"transparent"}},"hover":{"size":{"value":210},"stroke":{"value":"white"}}}},{"type":"line","from":{"data":"cc15d2a2-2a52-402f-b747-4cf17706a4bb"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"stroke":{"value":"#FF29D2"},"strokeWidth":{"value":2},"strokeOpacity":{"value":1}}}}]},"value":"#gorilla_repl.vega.VegaView{:content {:width 400, :height 247.2188, :padding {:bottom 20, :top 10, :right 10, :left 50}, :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"05b36250-011f-4de9-8e79-1eea20d0848a\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"05b36250-011f-4de9-8e79-1eea20d0848a\", :field \"data.y\"}}], :axes [{:scale \"x\", :type \"x\"} {:scale \"y\", :type \"y\"}], :data ({:name \"05b36250-011f-4de9-8e79-1eea20d0848a\", :values ({:x 0, :y 0.0} {:x 1, :y 0.14237172979226365} {:x 2, :y 0.28184285212220994} {:x 3, :y 0.415571854993052} {:x 4, :y 0.5408342133588315} {:x 5, :y 0.6550778971785186} {:x 6, :y 0.7559753651467324} {:x 7, :y 0.8414709848078965} {:x 8, :y 0.9098229129411239} {:x 9, :y 0.9596385829666849} {:x 10, :y 0.9899030763721239} {:x 11, :y 0.9999998001333682} {:x 12, :y 0.9897230488598214} {:x 13, :y 0.9592821957288404} {:x 14, :y 0.9092974268256817} {:x 15, :y 0.8407871057952504} {:x 16, :y 0.7551470262316581} {:x 17, :y 0.6541219745065956} {:x 18, :y 0.5397701824006438} {:x 19, :y 0.4144213937610953} {:x 20, :y 0.28062939951435684} {:x 21, :y 0.1411200080598672} {:x 22, :y -0.00126448893037729} {:x 23, :y -0.14362322388181803} {:x 24, :y -0.2830558540822556} {:x 25, :y -0.41672165175349984} {:x 26, :y -0.5418973795594052} {:x 27, :y -0.6560327724248436} {:x 28, :y -0.7568024953079282} {:x 29, :y -0.8421535183649058})} {:name \"cc15d2a2-2a52-402f-b747-4cf17706a4bb\", :values ({:x 0, :y 0.9196916552001735} {:x 1, :y 0.918861688538692} {:x 2, :y 0.9138559277844472} {:x 3, :y 0.9046743729374369} {:x 4, :y 0.8913170239976644} {:x 5, :y 0.8737838809651268} {:x 6, :y 0.8520749438398254} {:x 7, :y 0.8261902126217602} {:x 8, :y 0.7961296873109314} {:x 9, :y 0.7618933679073383} {:x 10, :y 0.7234812544109812} {:x 11, :y 0.6808933468218603} {:x 12, :y 0.6341296451399754} {:x 13, :y 0.5831901493653266} {:x 14, :y 0.5280748594979139} {:x 15, :y 0.46878377553773726} {:x 16, :y 0.4053168974847932} {:x 17, :y 0.3376742253390887} {:x 18, :y 0.26585575910062026} {:x 19, :y 0.1898614987693878} {:x 20, :y 0.10969144434539141} {:x 21, :y 0.025345595828631218} {:x 22, :y -0.063176046780893} {:x 23, :y -0.15587348348318103} {:x 24, :y -0.252746714278233} {:x 25, :y -0.35379573916604895} {:x 26, :y -0.45902055814662895} {:x 27, :y -0.5684211712199727} {:x 28, :y -0.6819975783860808} {:x 29, :y -0.7997497796449522})}), :marks ({:type \"symbol\", :from {:data \"05b36250-011f-4de9-8e79-1eea20d0848a\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"steelblue\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}} {:type \"line\", :from {:data \"cc15d2a2-2a52-402f-b747-4cf17706a4bb\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :stroke {:value \"#FF29D2\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}})}}"}
;; <=

;; @@
(render/mathematician-view (nth (map :genotype (sort-by :complexity (:elite result))) 99))
;; @@
;; =>
;;; {"type":"latex","content":"((1.802 \\cdot 0.289 + 0.718 \\cdot (0.471 - (x - x) \\cdot ((0.972 - 1.060) + 0.097))) + 1.594 \\cdot (((0.954 - 0.331) + 1.582 \\cdot x \\cdot (0.956 - 1.055)) \\cdot (0.516 + 0.695) + x) \\cdot (1.060 - 1.108)) \\cdot (1.162 - 0.121)","value":"#algebolic.expression.render.ExprLatexView{:expr [:times [:plus [:plus [:times 1.8018680574015389 0.28874645279341726] [:times 0.7180206226456817 [:minus 0.47140977408375223 [:times [:minus x x] [:plus [:minus 0.9717387038852745 1.0603826628890605] 0.09713718930690304]]]]] [:times [:times 1.5936901043071543 [:plus [:times [:plus [:minus 0.9539039159454726 0.33072717367857357] [:times [:times 1.581562920651415 x] [:minus 0.9562621844933613 1.05540857739967]]] [:plus 0.5163773276789219 0.6954860729047934]] x]] [:minus 1.0599800552854286 1.1077524745797016]]] [:minus 1.161833416064961 0.12108336697523792]]}"}
;; <=

;; @@
(plot/compose
  (plot/list-plot (:time @metrics) :joined true :plot-range [:all [0 (apply max (:time @metrics))]])
  (plot/list-plot (:selection-time @metrics) :colour "red" :joined true)
  (plot/list-plot (:reproduction-time @metrics) :colour "green" :joined true)
  (plot/list-plot (:scoring-time @metrics) :colour "blue" :joined true)
  )
;; @@
;; =>
;;; {"type":"vega","content":{"width":400,"height":247.2187957763672,"padding":{"bottom":20,"top":10,"right":10,"left":50},"scales":[{"name":"x","type":"linear","range":"width","zero":false,"domain":{"data":"b19c78c7-e88f-46c7-b55d-be249c364635","field":"data.x"}},{"name":"y","type":"linear","range":"height","nice":true,"zero":false,"domain":[0,56]}],"axes":[{"scale":"x","type":"x"},{"scale":"y","type":"y"}],"data":[{"name":"b19c78c7-e88f-46c7-b55d-be249c364635","values":[{"x":0,"y":40},{"x":1,"y":50},{"x":2,"y":47},{"x":3,"y":49},{"x":4,"y":48},{"x":5,"y":43},{"x":6,"y":48},{"x":7,"y":56},{"x":8,"y":53},{"x":9,"y":49},{"x":10,"y":50},{"x":11,"y":48},{"x":12,"y":46},{"x":13,"y":47},{"x":14,"y":48},{"x":15,"y":50},{"x":16,"y":54},{"x":17,"y":53},{"x":18,"y":49},{"x":19,"y":54},{"x":20,"y":54},{"x":21,"y":49},{"x":22,"y":47},{"x":23,"y":52},{"x":24,"y":54},{"x":25,"y":52},{"x":26,"y":49},{"x":27,"y":52},{"x":28,"y":45},{"x":29,"y":47},{"x":30,"y":43},{"x":31,"y":45},{"x":32,"y":48},{"x":33,"y":47},{"x":34,"y":51},{"x":35,"y":50},{"x":36,"y":49},{"x":37,"y":44},{"x":38,"y":46},{"x":39,"y":48},{"x":40,"y":46},{"x":41,"y":43},{"x":42,"y":45},{"x":43,"y":48},{"x":44,"y":44},{"x":45,"y":43},{"x":46,"y":43},{"x":47,"y":47},{"x":48,"y":42},{"x":49,"y":44}]},{"name":"f32e0868-f505-46a6-aa9a-cfc7e0d2b78b","values":[{"x":0,"y":12},{"x":1,"y":36},{"x":2,"y":31},{"x":3,"y":32},{"x":4,"y":34},{"x":5,"y":33},{"x":6,"y":38},{"x":7,"y":44},{"x":8,"y":43},{"x":9,"y":37},{"x":10,"y":36},{"x":11,"y":37},{"x":12,"y":33},{"x":13,"y":36},{"x":14,"y":35},{"x":15,"y":36},{"x":16,"y":35},{"x":17,"y":33},{"x":18,"y":33},{"x":19,"y":36},{"x":20,"y":36},{"x":21,"y":33},{"x":22,"y":31},{"x":23,"y":37},{"x":24,"y":36},{"x":25,"y":36},{"x":26,"y":36},{"x":27,"y":36},{"x":28,"y":34},{"x":29,"y":33},{"x":30,"y":31},{"x":31,"y":32},{"x":32,"y":32},{"x":33,"y":32},{"x":34,"y":34},{"x":35,"y":34},{"x":36,"y":34},{"x":37,"y":32},{"x":38,"y":31},{"x":39,"y":35},{"x":40,"y":34},{"x":41,"y":31},{"x":42,"y":34},{"x":43,"y":36},{"x":44,"y":33},{"x":45,"y":32},{"x":46,"y":32},{"x":47,"y":33},{"x":48,"y":32},{"x":49,"y":33}]},{"name":"44426cb8-e824-499d-8121-298dea06dae9","values":[{"x":0,"y":18},{"x":1,"y":8},{"x":2,"y":10},{"x":3,"y":9},{"x":4,"y":7},{"x":5,"y":5},{"x":6,"y":5},{"x":7,"y":6},{"x":8,"y":5},{"x":9,"y":7},{"x":10,"y":7},{"x":11,"y":6},{"x":12,"y":8},{"x":13,"y":7},{"x":14,"y":8},{"x":15,"y":9},{"x":16,"y":13},{"x":17,"y":10},{"x":18,"y":9},{"x":19,"y":10},{"x":20,"y":12},{"x":21,"y":8},{"x":22,"y":9},{"x":23,"y":8},{"x":24,"y":12},{"x":25,"y":10},{"x":26,"y":8},{"x":27,"y":10},{"x":28,"y":6},{"x":29,"y":8},{"x":30,"y":6},{"x":31,"y":7},{"x":32,"y":11},{"x":33,"y":9},{"x":34,"y":11},{"x":35,"y":10},{"x":36,"y":9},{"x":37,"y":7},{"x":38,"y":7},{"x":39,"y":7},{"x":40,"y":7},{"x":41,"y":7},{"x":42,"y":6},{"x":43,"y":7},{"x":44,"y":6},{"x":45,"y":6},{"x":46,"y":5},{"x":47,"y":6},{"x":48,"y":6},{"x":49,"y":6}]},{"name":"c0059aa0-72f9-4476-ac8a-5adcb5289988","values":[{"x":0,"y":10},{"x":1,"y":6},{"x":2,"y":6},{"x":3,"y":8},{"x":4,"y":7},{"x":5,"y":5},{"x":6,"y":5},{"x":7,"y":6},{"x":8,"y":5},{"x":9,"y":5},{"x":10,"y":7},{"x":11,"y":5},{"x":12,"y":5},{"x":13,"y":4},{"x":14,"y":5},{"x":15,"y":5},{"x":16,"y":6},{"x":17,"y":10},{"x":18,"y":7},{"x":19,"y":8},{"x":20,"y":6},{"x":21,"y":8},{"x":22,"y":7},{"x":23,"y":7},{"x":24,"y":6},{"x":25,"y":6},{"x":26,"y":5},{"x":27,"y":6},{"x":28,"y":5},{"x":29,"y":6},{"x":30,"y":6},{"x":31,"y":6},{"x":32,"y":5},{"x":33,"y":6},{"x":34,"y":6},{"x":35,"y":6},{"x":36,"y":6},{"x":37,"y":5},{"x":38,"y":8},{"x":39,"y":6},{"x":40,"y":5},{"x":41,"y":5},{"x":42,"y":5},{"x":43,"y":5},{"x":44,"y":5},{"x":45,"y":5},{"x":46,"y":6},{"x":47,"y":8},{"x":48,"y":4},{"x":49,"y":5}]}],"marks":[{"type":"line","from":{"data":"b19c78c7-e88f-46c7-b55d-be249c364635"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"stroke":{"value":"#FF29D2"},"strokeWidth":{"value":2},"strokeOpacity":{"value":1}}}},{"type":"line","from":{"data":"f32e0868-f505-46a6-aa9a-cfc7e0d2b78b"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"stroke":{"value":"red"},"strokeWidth":{"value":2},"strokeOpacity":{"value":1}}}},{"type":"line","from":{"data":"44426cb8-e824-499d-8121-298dea06dae9"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"stroke":{"value":"green"},"strokeWidth":{"value":2},"strokeOpacity":{"value":1}}}},{"type":"line","from":{"data":"c0059aa0-72f9-4476-ac8a-5adcb5289988"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"stroke":{"value":"blue"},"strokeWidth":{"value":2},"strokeOpacity":{"value":1}}}}]},"value":"#gorilla_repl.vega.VegaView{:content {:width 400, :height 247.2188, :padding {:bottom 20, :top 10, :right 10, :left 50}, :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"b19c78c7-e88f-46c7-b55d-be249c364635\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain [0 56]}], :axes [{:scale \"x\", :type \"x\"} {:scale \"y\", :type \"y\"}], :data ({:name \"b19c78c7-e88f-46c7-b55d-be249c364635\", :values ({:x 0, :y 40} {:x 1, :y 50} {:x 2, :y 47} {:x 3, :y 49} {:x 4, :y 48} {:x 5, :y 43} {:x 6, :y 48} {:x 7, :y 56} {:x 8, :y 53} {:x 9, :y 49} {:x 10, :y 50} {:x 11, :y 48} {:x 12, :y 46} {:x 13, :y 47} {:x 14, :y 48} {:x 15, :y 50} {:x 16, :y 54} {:x 17, :y 53} {:x 18, :y 49} {:x 19, :y 54} {:x 20, :y 54} {:x 21, :y 49} {:x 22, :y 47} {:x 23, :y 52} {:x 24, :y 54} {:x 25, :y 52} {:x 26, :y 49} {:x 27, :y 52} {:x 28, :y 45} {:x 29, :y 47} {:x 30, :y 43} {:x 31, :y 45} {:x 32, :y 48} {:x 33, :y 47} {:x 34, :y 51} {:x 35, :y 50} {:x 36, :y 49} {:x 37, :y 44} {:x 38, :y 46} {:x 39, :y 48} {:x 40, :y 46} {:x 41, :y 43} {:x 42, :y 45} {:x 43, :y 48} {:x 44, :y 44} {:x 45, :y 43} {:x 46, :y 43} {:x 47, :y 47} {:x 48, :y 42} {:x 49, :y 44})} {:name \"f32e0868-f505-46a6-aa9a-cfc7e0d2b78b\", :values ({:x 0, :y 12} {:x 1, :y 36} {:x 2, :y 31} {:x 3, :y 32} {:x 4, :y 34} {:x 5, :y 33} {:x 6, :y 38} {:x 7, :y 44} {:x 8, :y 43} {:x 9, :y 37} {:x 10, :y 36} {:x 11, :y 37} {:x 12, :y 33} {:x 13, :y 36} {:x 14, :y 35} {:x 15, :y 36} {:x 16, :y 35} {:x 17, :y 33} {:x 18, :y 33} {:x 19, :y 36} {:x 20, :y 36} {:x 21, :y 33} {:x 22, :y 31} {:x 23, :y 37} {:x 24, :y 36} {:x 25, :y 36} {:x 26, :y 36} {:x 27, :y 36} {:x 28, :y 34} {:x 29, :y 33} {:x 30, :y 31} {:x 31, :y 32} {:x 32, :y 32} {:x 33, :y 32} {:x 34, :y 34} {:x 35, :y 34} {:x 36, :y 34} {:x 37, :y 32} {:x 38, :y 31} {:x 39, :y 35} {:x 40, :y 34} {:x 41, :y 31} {:x 42, :y 34} {:x 43, :y 36} {:x 44, :y 33} {:x 45, :y 32} {:x 46, :y 32} {:x 47, :y 33} {:x 48, :y 32} {:x 49, :y 33})} {:name \"44426cb8-e824-499d-8121-298dea06dae9\", :values ({:x 0, :y 18} {:x 1, :y 8} {:x 2, :y 10} {:x 3, :y 9} {:x 4, :y 7} {:x 5, :y 5} {:x 6, :y 5} {:x 7, :y 6} {:x 8, :y 5} {:x 9, :y 7} {:x 10, :y 7} {:x 11, :y 6} {:x 12, :y 8} {:x 13, :y 7} {:x 14, :y 8} {:x 15, :y 9} {:x 16, :y 13} {:x 17, :y 10} {:x 18, :y 9} {:x 19, :y 10} {:x 20, :y 12} {:x 21, :y 8} {:x 22, :y 9} {:x 23, :y 8} {:x 24, :y 12} {:x 25, :y 10} {:x 26, :y 8} {:x 27, :y 10} {:x 28, :y 6} {:x 29, :y 8} {:x 30, :y 6} {:x 31, :y 7} {:x 32, :y 11} {:x 33, :y 9} {:x 34, :y 11} {:x 35, :y 10} {:x 36, :y 9} {:x 37, :y 7} {:x 38, :y 7} {:x 39, :y 7} {:x 40, :y 7} {:x 41, :y 7} {:x 42, :y 6} {:x 43, :y 7} {:x 44, :y 6} {:x 45, :y 6} {:x 46, :y 5} {:x 47, :y 6} {:x 48, :y 6} {:x 49, :y 6})} {:name \"c0059aa0-72f9-4476-ac8a-5adcb5289988\", :values ({:x 0, :y 10} {:x 1, :y 6} {:x 2, :y 6} {:x 3, :y 8} {:x 4, :y 7} {:x 5, :y 5} {:x 6, :y 5} {:x 7, :y 6} {:x 8, :y 5} {:x 9, :y 5} {:x 10, :y 7} {:x 11, :y 5} {:x 12, :y 5} {:x 13, :y 4} {:x 14, :y 5} {:x 15, :y 5} {:x 16, :y 6} {:x 17, :y 10} {:x 18, :y 7} {:x 19, :y 8} {:x 20, :y 6} {:x 21, :y 8} {:x 22, :y 7} {:x 23, :y 7} {:x 24, :y 6} {:x 25, :y 6} {:x 26, :y 5} {:x 27, :y 6} {:x 28, :y 5} {:x 29, :y 6} {:x 30, :y 6} {:x 31, :y 6} {:x 32, :y 5} {:x 33, :y 6} {:x 34, :y 6} {:x 35, :y 6} {:x 36, :y 6} {:x 37, :y 5} {:x 38, :y 8} {:x 39, :y 6} {:x 40, :y 5} {:x 41, :y 5} {:x 42, :y 5} {:x 43, :y 5} {:x 44, :y 5} {:x 45, :y 5} {:x 46, :y 6} {:x 47, :y 8} {:x 48, :y 4} {:x 49, :y 5})}), :marks ({:type \"line\", :from {:data \"b19c78c7-e88f-46c7-b55d-be249c364635\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :stroke {:value \"#FF29D2\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}} {:type \"line\", :from {:data \"f32e0868-f505-46a6-aa9a-cfc7e0d2b78b\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :stroke {:value \"red\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}} {:type \"line\", :from {:data \"44426cb8-e824-499d-8121-298dea06dae9\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :stroke {:value \"green\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}} {:type \"line\", :from {:data \"c0059aa0-72f9-4476-ac8a-5adcb5289988\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :stroke {:value \"blue\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}})}}"}
;; <=

;; @@

;; @@
